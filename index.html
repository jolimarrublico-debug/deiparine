<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Adventure Quest</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#111;
  color:white;
  overflow:hidden;
}

/* UI */
button{padding:6px 10px;margin:4px;border:none;border-radius:6px;background:#444;color:white}
#loginScreen,#gameUI{position:fixed;inset:0}
#loginScreen{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#000}
#gameUI{display:none}
#stats,#inventory,#skills{background:#222;padding:8px;margin:4px}

/* Game */
#game{
  position:relative;
  height:55vh;
  background:url("https://images.stockcake.com/public/8/f/9/8f922c74-8e67-4f79-9d05-33e873ce11d2_large/gloomy-gothic-castle-stockcake.jpg");
  background-size:cover;
  overflow:hidden;
}
#player{
  position:absolute;
  width:50px;height:50px;
  background:url("https://img.freepik.com/premium-vector/regal-warrior-emblem-knight-soldier-with-raised-sword-brave-sentinel-black-vector-logo-knight_974322-7293.jpg");
  background-size:cover;
  left:100px;top:200px;
}
.monster{
  position:absolute;
  width:50px;height:50px;
  background:url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLgNFq14KLZKLT9Jn6JsnJr09uV4E5e6oiWg&s");
  background-size:cover;
}
.boss{width:80px;height:80px;border:3px solid gold}

/* Rarity */
.basic{color:#ccc}
.common{color:#6f6}
.rare{color:#4af}
.epic{color:#c6f}
.legend{color:gold}
.mythic{color:#ff5555}
.god{color:red;text-shadow:0 0 6px red}

/* Damage numbers */
.damage{
  position:absolute;
  font-weight:bold;
  animation:float 1s forwards;
}
@keyframes float{
  0%{opacity:1;transform:translateY(0)}
  100%{opacity:0;transform:translateY(-40px)}
}

/* Skill effects */
.skill{
  position:absolute;
  width:80px;height:80px;
  border-radius:50%;
  pointer-events:none;
  animation:fade .5s forwards;
}
.slash{border:2px solid white}
.crit{background:radial-gradient(circle,red,transparent)}
@keyframes fade{
  to{opacity:0;transform:scale(1.6)}
}

/* Loot popup */
#loot{
  position:fixed;
  top:10px;right:10px;
  background:#000a;
  padding:8px;
  border-radius:6px;
}
</style>
</head>

<body>

<div id="loginScreen">
  <h2>Adventure Quest</h2>
  <input id="username" placeholder="Username">
  <button onclick="login()">Enter</button>
</div>

<div id="gameUI">
  <div id="stats"></div>
  <div id="game"><div id="player"></div></div>

  <div id="skills">
    <button onclick="attack()">âš” Attack</button>
    <button onclick="heal()">ðŸ’š Heal</button>
  </div>

  <div id="inventory">
    <h3>Inventory</h3>
    <ul id="invList"></ul>
  </div>
</div>

<div id="loot"></div>

<script>
/* PLAYER */
let user="",px=100,py=200,zone=1;
let player={
  hp:150,maxHp:150,
  atk:10,def:5,
  crit:10,
  gold:0,
  inventory:[],
  sword:null,
  armor:null
};

const swords=[
 {name:"Basic Sword",atk:5,range:60,rarity:"basic",chance:90},
 {name:"Rare Sword",atk:12,range:80,rarity:"rare",chance:40},
 {name:"Epic Sword",atk:20,range:100,rarity:"epic",chance:20},
 {name:"God Sword",atk:35,range:130,rarity:"god",chance:5,boss:true}
];

const armors=[
 {name:"Basic Armor",def:5,rarity:"basic",chance:90},
 {name:"Rare Armor",def:12,rarity:"rare",chance:40},
 {name:"Epic Armor",def:20,rarity:"epic",chance:20},
 {name:"God Armor",def:35,rarity:"god",chance:5,boss:true}
];

let monsters=[];

/* LOGIN */
function login(){
 user=username.value;
 loginScreen.style.display="none";
 gameUI.style.display="block";
 spawnZone();
 update();
}

/* ZONE */
function spawnZone(){
 monsters.forEach(m=>m.el.remove());
 monsters=[];
 let count=2+zone;
 for(let i=0;i<count;i++)spawnMonster();
 if(Math.random()<0.3)spawnMonster(true);
}

function spawnMonster(boss=false){
 let el=document.createElement("div");
 el.className="monster"+(boss?" boss":"");
 el.style.left=Math.random()*500+"px";
 el.style.top=Math.random()*250+"px";
 game.appendChild(el);
 monsters.push({
   el,
   hp:(boss?300:100)*zone,
   atk:(boss?20:10)*zone,
   boss
 });
}

/* ATTACK */
function attack(){
 monsters.forEach((m,i)=>{
   let dx=parseInt(m.el.style.left)-px;
   let dy=parseInt(m.el.style.top)-py;
   let dist=Math.hypot(dx,dy);
   let range=player.sword?player.sword.range:60;
   if(dist<=range){
     let crit=Math.random()*100<player.crit;
     let dmg=player.atk+(player.sword?player.sword.atk:0);
     if(crit)dmg*=2;
     m.hp-=dmg;
     showDamage(dmg,m.el,crit);
     playSkill(m.el,crit);
     if(m.hp<=0){
       dropLoot(m.boss);
       m.el.remove();
       monsters.splice(i,1);
     }
   }
 });
 if(monsters.length===0){zone++;spawnZone()}
 update();
}

/* VISUALS */
function showDamage(dmg,el,crit){
 let d=document.createElement("div");
 d.className="damage";
 d.style.left=el.style.left;
 d.style.top=el.style.top;
 d.style.color=crit?"red":"white";
 d.innerText=dmg;
 game.appendChild(d);
 setTimeout(()=>d.remove(),1000);
}
function playSkill(el,crit){
 let s=document.createElement("div");
 s.className="skill "+(crit?"crit":"slash");
 s.style.left=el.style.left;
 s.style.top=el.style.top;
 game.appendChild(s);
 setTimeout(()=>s.remove(),500);
}

/* LOOT */
function dropLoot(boss){
 swords.forEach(s=>{
  if(s.boss&&!boss)return;
  if(Math.random()*100<s.chance+(zone*2)){
    player.inventory.push(s);
    notify("ðŸ—¡ "+s.name);
  }
 });
 armors.forEach(a=>{
  if(a.boss&&!boss)return;
  if(Math.random()*100<a.chance+(zone*2)){
    player.inventory.push(a);
    notify("ðŸ›¡ "+a.name);
  }
 });
}

/* INVENTORY */
function updateInventory(){
 invList.innerHTML="";
 player.inventory.forEach((it,i)=>{
  let li=document.createElement("li");
  li.innerHTML=`<span class="${it.rarity}">${it.name}</span>
  <button onclick="equip(${i})">Equip</button>`;
  invList.appendChild(li);
 });
}

function equip(i){
 let it=player.inventory[i];
 if(it.atk){
   if(player.sword)player.atk-=player.sword.atk;
   player.sword=it;player.atk+=it.atk;
 }else{
   if(player.armor)player.def-=player.armor.def;
   player.armor=it;player.def+=it.def;
 }
 update();
}

/* UI */
function notify(t){
 loot.innerHTML=t;
 setTimeout(()=>loot.innerHTML="",1500);
}
function heal(){player.hp=Math.min(player.maxHp,player.hp+30);update()}
function update(){
 stats.innerHTML=`HP ${player.hp}/${player.maxHp} | ATK ${player.atk} | DEF ${player.def} | ZONE ${zone}`;
 updateInventory();
}
</script>

</body>
</html>
